<!DOCTYPE html><html><head><title class="next-head">TypeMark</title><meta charSet="UTF-8" class="next-head"/><meta name="description" content="" class="next-head"/><meta name="keywords" content="" class="next-head"/><meta name="author" content="Eric Buss" class="next-head"/><meta name="viewport" content="width=device-width, initial-scale=1.0" class="next-head"/><link rel="shortcut icon" href="/type-mark/static/favicon.ico" class="next-head"/><link rel="stylesheet" href="/static/css/github.css" class="next-head"/><link rel="stylesheet" href="/static/css/spectre.min.css" class="next-head"/><link rel="stylesheet" href="/static/css/spectre-exp.min.css" class="next-head"/><link rel="stylesheet" href="/static/css/font-awesome.min.css" class="next-head"/><link rel="stylesheet" href="/static/css/animate.css" class="next-head"/><script src="/static/js/es5-shim.min.js" class="next-head"></script><script src="/static/js/es6-shim.min.js" class="next-head"></script><script src="/static/js/object-shim.js" class="next-head"></script><script src="/type-mark/static/js/type-mark.js" class="next-head"></script><script src="/type-mark/static/js/docs.js" class="next-head"></script><link rel="preload" href="/type-mark/_next/static/sh57lnqiqm3mqGWT2e_hy/pages/index.js" as="script"/><link rel="preload" href="/type-mark/_next/static/sh57lnqiqm3mqGWT2e_hy/pages/_app.js" as="script"/><link rel="preload" href="/type-mark/_next/static/sh57lnqiqm3mqGWT2e_hy/pages/_error.js" as="script"/><link rel="preload" href="/type-mark/_next/static/runtime/webpack-f4542de9ce6104e90191.js" as="script"/><link rel="preload" href="/type-mark/_next/static/chunks/commons.da20fc84bfc026ecae8b.js" as="script"/><link rel="preload" href="/type-mark/_next/static/runtime/main-c2e40a57d5e6d5e563b1.js" as="script"/><link rel="stylesheet" href="/type-mark/_next/static/css/commons.425dbc86.chunk.css"/></head><body><div id="__next"><div id="page"><header class="navbar"><div class="scroll-marker" style="width:NaN%"></div><section class="navbar-section container grid-md"><div class="left"><a class="m-md active" href="/type-mark/index/"><i class="fas fa-home"></i>Home</a><a class="m-md " href="/type-mark/api/"><i class="fas fa-book"></i>API</a><a class="m-md" href="https://cdn.rawgit.com/ejrbuss/type-mark/b33a3d5646d5cf4d280ab97d73c776c5522dae90/type-mark.min.js"><i class="fas fa-cloud-download-alt"></i>Download</a></div><div class="fill-width"><div class="float-right hide-xs text-sm center"><input type="text" placeholder="Type to search..." value="" class="closed"/><a class="p-md subtle-accent"><i class="fas fa-search fa-lg"></i></a><a target="_blank" href="https://github.com/ejrbuss/type-mark" class="p-md subtle-accent"><i class="fab fa-github fa-lg"></i></a></div><div class="search hide-xs text-sm "></div></div></section></header><div class="side-nav text-center hide-xl"><ul class="nav outer d-inline-block text-left"></ul></div><div class="search-results"><div class="container grid-md"></div></div><div class="content container grid-md docs"><div class="logo animated pulse"><svg viewBox="0 0 350 350" version="1.1" xmlns="http://www.w3.org/2000/svg"><defs><linearGradient id="grad" x1="100%" y1="100%"><stop offset="0%" stop-color="lightblue" stop-opacity=".5"><animate attributeName="stop-color" values="#00A79D;#00A79D;#679289;#F4C095;#EE2E31;#F4C095;#679289;#679289;#00A79D;" dur="30s" repeatCount="indefinite"></animate></stop><stop offset="100%" stop-color="lightblue" stop-opacity=".5"><animate attributeName="stop-color" values="#00A79D;#679289;#F4C095;#EE2E31;#F4C095;#679289;#00A79D;#071E22;#00A79D;" dur="30s" repeatCount="indefinite"></animate><animate attributeName="offset" values=".95;.90;.70;.65;.50;.40;.45;.55;.70;.85;.95" dur="30s" repeatCount="indefinite"></animate></stop></linearGradient></defs><path d="M228.250 163.500 L 158.252 233.499 130.500 205.750 C 115.235 190.487,102.521 178.000,102.246 178.000 C 101.593 178.000,65.500 214.100,65.500 214.754 C 65.500 215.028,86.313 236.064,111.750 261.500 L 158.000 307.748 246.749 219.001 L 335.498 130.253 317.127 111.877 C 307.022 101.769,298.641 93.500,298.502 93.500 C 298.363 93.500,266.749 125.000,228.250 163.500 M110.500 115.569 C 109.723 115.884,103.720 116.013,94.625 115.912 L 80.000 115.750 79.999 119.750 L 79.999 123.750 85.749 123.582 L 91.500 123.414 91.500 142.207 L 91.500 161.000 95.459 161.000 C 97.637 161.000,99.774 161.137,100.209 161.303 C 100.922 161.577,101.000 159.720,101.000 142.522 L 101.000 123.438 106.501 123.594 L 112.002 123.750 112.001 119.375 C 112.000 116.969,111.944 115.014,111.875 115.032 C 111.806 115.049,111.188 115.291,110.500 115.569 M165.125 126.201 C 162.615 127.399,162.500 127.411,162.500 126.477 C 162.500 125.584,162.133 125.500,158.250 125.500 L 154.000 125.500 154.000 149.750 L 154.000 174.000 158.250 174.000 L 162.500 174.000 162.500 167.197 C 162.500 160.900,162.565 160.422,163.375 160.787 C 165.891 161.918,173.395 161.621,176.351 160.273 C 189.778 154.148,190.880 132.079,178.045 126.348 C 174.336 124.692,168.427 124.625,165.125 126.201 M205.162 125.692 C 189.175 130.903,188.317 153.839,203.877 160.082 C 207.675 161.606,217.271 161.752,221.323 160.347 C 224.249 159.332,224.483 158.875,224.493 154.153 L 224.500 151.056 222.125 152.113 C 214.321 155.585,201.500 151.997,201.500 146.341 C 201.500 146.227,206.844 146.008,213.375 145.855 C 228.341 145.506,227.500 145.763,227.500 141.532 C 227.500 129.553,216.736 121.920,205.162 125.692 M115.000 125.951 C 115.000 126.219,117.839 132.889,121.308 140.773 L 127.616 155.108 126.273 158.531 C 124.267 163.642,121.192 168.069,117.345 171.381 C 116.119 172.437,115.680 173.097,116.100 173.253 C 116.458 173.385,118.422 174.057,120.466 174.748 L 124.183 176.003 125.384 174.876 C 129.092 171.401,135.991 157.931,143.248 140.000 C 145.641 134.088,148.027 128.506,148.550 127.596 C 149.072 126.687,149.500 125.835,149.500 125.703 C 149.500 125.572,147.330 125.528,144.677 125.607 L 139.853 125.750 136.296 135.339 C 134.339 140.613,132.600 145.067,132.431 145.236 C 132.262 145.405,130.340 141.090,128.160 135.647 L 124.196 125.750 119.598 125.606 C 116.843 125.520,115.000 125.658,115.000 125.951 M214.292 132.803 C 216.071 133.648,217.688 135.814,218.265 138.125 L 218.608 139.500 210.054 139.500 C 205.349 139.500,201.500 139.379,201.500 139.230 C 201.500 134.540,209.491 130.525,214.292 132.803 M173.451 133.224 C 177.274 135.202,178.824 138.672,178.376 144.255 C 177.747 152.091,171.436 156.105,164.613 153.008 L 162.476 152.038 162.613 143.434 L 162.750 134.830 164.954 133.665 C 167.515 132.311,171.304 132.115,173.451 133.224 " stroke="none" fill="url(#grad)" fill-rule="evenodd"></path></svg></div><p class="text-center subtext p-md">v2.0.0</p><div class="text-center clr-accent subtitle"><div class="md indexable"><p>make type checking <em>lovely</em></p></div></div><div class="md indexable"><a class="anchor-point" id="whyusetype-mark"></a><a class="anchor" href="#whyusetype-mark"><h1>Why Use type-mark</h1><br/></a><p>Because <code>typeof</code> just doesn&#x27;t cut it. The canonical example being</p><div class="editor"><div class="code" data-lang="js"><div class="gutter"><span class="line-number">1</span></div><div class="text"><pre><span class="hljs-keyword">typeof</span> <span class="hljs-literal">null</span></pre></div></div><div class="output"><a class="subtle-accent clr-text"><i class="fas fa-play fa-lg"></i></a><pre class="text">object</pre></div></div><p>With type-mark checking for <code>null</code> is as easy as</p><div class="editor"><div class="code" data-lang="js"><div class="gutter"><span class="line-number">1</span></div><div class="text"><pre>type(<span class="hljs-literal">null</span>).object</pre></div></div><div class="output"><a class="subtle-accent clr-text"><i class="fas fa-play fa-lg"></i></a><pre class="text"><span class="clr-error">ReferenceError: type is not defined</span></pre></div></div><p>Not to mention the added benefits of <a href="#modifiers">modifiers</a>, <a href="#interfaces">interfaces</a>, and
<a href="#writing-your-own-tests">custom validation</a>.</p><a class="anchor-point" id="considerations"></a><a class="anchor" href="#considerations"><h1>Considerations</h1><br/></a><p>type-mark is a <strong>dependency free</strong> library clocking in at ~8.5kB. In
terms of browser compatibility you will be safe in the following browser
versions based on <a href="https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Object/defineProperty">MDN</a>.</p><table class="table table-striped table-scroll"><thead><tr><th>Firefox (Gecko)</th><th>Chrome</th><th>Internet Explorer</th><th>Opera</th><th>Safari</th></tr></thead><tbody><tr><td>4.0 (2)</td><td>5</td><td>9</td><td>11.60</td><td>5.1</td></tr></tbody></table><a class="anchor-point" id="installing"></a><a class="anchor" href="#installing"><h1>Installing</h1><br/></a><a class="anchor-point" id="ontheclient"></a><a class="anchor" href="#ontheclient"><h2>On the Client</h2><br/></a><p>You can use the rawgit CDN to get the latest minified version</p><div class="editor"><div class="code" data-lang="html"><div class="gutter"><span class="line-number">1</span></div><div class="text"><pre><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"text/javascript"</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"{{ site.cdn }}"</span>&gt;</span><span class="undefined"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></pre></div></div></div><p>Or you can include your own. Just save a copy of the minified file to your
site&#x27;s javascript directory.</p><div class="editor"><div class="code" data-lang="html"><div class="gutter"><span class="line-number">1</span></div><div class="text"><pre><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"text/javascript"</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"js/type-mark.min.js"</span>&gt;</span><span class="undefined"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></pre></div></div></div><p>Using any of the above methods will make type-check available via your
choice of commonjs interface. If <code>require</code> is not defined type-check defines
<code>type</code> on the window.</p><a class="anchor-point" id="onnode"></a><a class="anchor" href="#onnode"><h2>On Node</h2><br/></a><p>type-mark is available through <a href="https://www.npmjs.com/">npm</a>. When using
<a href="https://nodejs.org/en/">node.js</a> you can install using npm</p><div class="editor"><div class="code" data-lang=""><div class="text"><pre>$ npm install type-mark</pre></div></div></div><p>To use type-mark in your Node project you will need to require it</p><div class="editor"><div class="code" data-lang="js"><div class="gutter"><span class="line-number">1</span></div><div class="text"><pre><span class="hljs-keyword">var</span> type = <span class="hljs-built_in">require</span>(<span class="hljs-string">'type-mark'</span>);</pre></div></div></div><a class="anchor-point" id="fromscratch"></a><a class="anchor" href="#fromscratch"><h2>From Scratch</h2><br/></a><p>You can also clone the Git repository if you want the full source or are
interested in making modifications. type-check is dependency free so working
with it is as easy as cloning.</p><div class="editor"><div class="code" data-lang=""><div class="text"><pre>$ git clone https://github.com/ejrbuss/type-mark.git</pre></div></div></div><p>To run the npm scripts you will need to run <code>npm install</code> as well as have the
following global dependencies</p><ul><li><a href="https://mochajs.org/">mocha</a>,</li><li><a href="https://istanbul.js.org/">istanbul</a>,</li><li><a href="http://browserify.org/">browserify</a>,</li><li><a href="https://www.npmjs.com/package/uglify-js">uglify-js</a> and</li><li><a href="https://jekyllrb.com/">jekyll/bundle</a>.</li></ul><p>The following npm scripts are made available</p><div class="editor"><div class="code" data-lang=""><div class="text"><pre>$ npm run test     # run tests and code coverage
$ npm run build    # build type-mark.js and type-mark.min.js for the client
$ npm run site     # run the docs site
$ npm run version  # update version number and cdn</pre></div></div></div><a class="anchor-point" id="gettingstarted"></a><a class="anchor" href="#gettingstarted"><h1>Getting Started</h1><br/></a><p>For most checks the following call pattern is used</p><div class="editor"><div class="code" data-lang="js"><div class="gutter"><span class="line-number">1</span></div><div class="text"><pre>type(variable).modifier1.modifier2.check</pre></div></div></div><p>For example if you wanted to check if <code>x</code> is a string</p><div class="editor"><div class="code" data-lang="js"><div class="gutter"><span class="line-number">1</span></div><div class="text"><pre>type(x).string</pre></div></div></div><p>If <code>x</code> is not a string this will return <code>false</code>. If <code>x</code> is a string this will
return <code>true</code>. The same check can be made by calling the test function directly.</p><div class="editor"><div class="code" data-lang="js"><div class="gutter"><span class="line-number">1</span></div><div class="text"><pre>type.string(x)</pre></div></div></div><p>The following checks can be made using either syntax.</p><table class="table table-striped table-scroll"><thead><tr><th>Check</th><th>Description</th></tr></thead><tbody><tr><td><code>type(x).undefined</code></td><td>Check if <code>x</code> is undefined</td></tr><tr><td><code>type(x).boolean</code></td><td>Check if <code>x</code> is a boolean</td></tr><tr><td><code>type(x).number</code></td><td>Check if <code>x</code> is a number</td></tr><tr><td><code>type(x).integer</code></td><td>Check if <code>x</code> is an integer</td></tr><tr><td><code>type(x).even</code></td><td>Check if <code>x</code> is even</td></tr><tr><td><code>type(x).odd</code></td><td>Check if <code>x</code> is odd</td></tr><tr><td><code>type(x).positive</code></td><td>Check if <code>x</code> is positive</td></tr><tr><td><code>type(x).negative</code></td><td>Check if <code>x</code> is negative</td></tr><tr><td><code>type(x).string</code></td><td>Check if <code>x</code> is a string</td></tr><tr><td><code>type(x).function</code></td><td>Check if <code>x</code> is a function</td></tr><tr><td><code>type(x).native</code></td><td>Check if <code>x</code> is a native function</td></tr><tr><td><code>type(x).object</code></td><td>Check if <code>x</code> is an object and not <code>null</code></td></tr><tr><td><code>type(x).symbol</code></td><td>Check if <code>x</code> is a symbol</td></tr><tr><td><code>type(x).array</code></td><td>Check if <code>x</code> is an array</td></tr><tr><td><code>type(x).empty</code></td><td>Check if <code>x</code> is empty<a href="">1</a></td></tr><tr><td><code>type(x).exists</code></td><td>Check if <code>x</code> is not <code>null</code> or <code>undefined</code></td></tr></tbody></table><p><a href="">1</a> <em>Works for <code>strings</code>, <code>arrays</code>, and <code>objects</code> based on keys</em></p><p>In addition to basic checks there are also checks that take arguments. An
example of this is <code>instanceof</code>, which checks to see what constructor
was used to create the given object. For example, to check if <code>x</code> is a RegExp</p><div class="editor"><div class="code" data-lang="js"><div class="gutter"><span class="line-number">1</span></div><div class="text"><pre>type(x).instanceof(<span class="hljs-built_in">RegExp</span>)</pre></div></div></div><p>To call the check directly the variable needed to be tested needs to be passed
in second. So the above check becomes</p><div class="editor"><div class="code" data-lang="js"><div class="gutter"><span class="line-number">1</span></div><div class="text"><pre>type.instanceof(<span class="hljs-built_in">RegExp</span>, x);</pre></div></div></div><p>The order of arguments here allows all test functions to be
<a href="https://en.wikipedia.org/wiki/Currying">curryable</a>. This means if you were
constantly checking if variables were instances of <code>YourClass</code> you could
instantly create a checking function like so</p><div class="editor"><div class="code" data-lang="js"><div class="gutter"><span class="line-number">1</span><span class="line-number">2</span></div><div class="text"><pre>checkYourClass = type.instanceof(YourClass);
checkYourClass(x);</pre></div></div></div><p>This functionality applies to your own tests (see the section
on <a href="#writing-your-own-tests">extending type-mark</a>). The following checks
take arguments just like <code>instanceof</code>.</p><table class="table table-striped table-scroll"><thead><tr><th>Check</th><th>Description</th></tr></thead><tbody><tr><td><code>type(x).implements(interface)</code></td><td>Check if <code>x</code> implements <code>interface</code>, see the section on <a href="#interfaces">interfaces</a></td></tr><tr><td><code>type(x).instanceof(constructor)</code></td><td>Check if <code>x</code> is an instance of <code>constructor</code></td></tr><tr><td><code>type(x).lengthof(n)</code></td><td>Check if <code>x</code> has a length of <code>n</code><a href="">1</a></td></tr><tr><td><code>type(x).max(n)</code></td><td>Check if <code>x</code> is less than or equal to <code>n</code></td></tr><tr><td><code>type(x).min(n)</code></td><td>Check if <code>x</code> is greater than or equal to <code>n</code></td></tr><tr><td><code>type(x).range(min, max)</code></td><td>Check if <code>x</code> is greater than or equal to <code>min</code> and less than <code>max</code></td></tr><tr><td><code>type(x).and(...checks)</code></td><td>Check if all <code>checks</code> pass for <code>x</code><a href="">2</a></td></tr><tr><td><code>type(x).or(...checks)</code></td><td>Check if any <code>checks</code> pass for <code>x</code><a href="">2</a></td></tr></tbody></table><p><a href="">1</a> <em>Works for <code>strings</code>, <code>arrays</code>, and <code>objects</code> based on keys</em></p><p><a href="">2</a> <em>When curried only accepts two check arguments</em></p><a class="anchor-point" id="modifiers"></a><a class="anchor" href="#modifiers"><h2>Modifiers</h2><br/></a><p>By themselves these check functions are still limited and only allow for a
surface level checking of primitives. Modifiers are values you can prefix your
check with to modify its effect. Modifiers are applied in a stack, last in first
out, basis. For example</p><div class="editor"><div class="code" data-lang="js"><div class="gutter"><span class="line-number">1</span></div><div class="text"><pre>type(x).arrayof.not.number</pre></div></div></div><p>checks that x is an array of non-number elements whereas</p><div class="editor"><div class="code" data-lang="js"><div class="gutter"><span class="line-number">1</span></div><div class="text"><pre>type(x).not.arrayof.number</pre></div></div></div><p>checks that x is not an array of numbers.</p><h3 id="not"><code>not</code></h3><p>Negates the given test. For example</p><div class="editor"><div class="code" data-lang="js"><div class="gutter"><span class="line-number">1</span></div><div class="text"><pre>type(x).not.string</pre></div></div></div><p>checks that <code>x</code> is <strong>not</strong> a string. Can also be called</p><div class="editor"><div class="code" data-lang="js"><div class="gutter"><span class="line-number">1</span></div><div class="text"><pre>type.not.string(x)</pre></div></div></div><h3 id="assert"><code>assert</code></h3><p>If the given check fails, a <code>TypeError</code> is thrown with a message indicating why
the check failed. For example</p><div class="editor"><div class="code" data-lang="js"><div class="gutter"><span class="line-number">1</span></div><div class="text"><pre>type(<span class="hljs-number">4</span>).assert.string</pre></div></div><div class="output"><a class="subtle-accent clr-text"><i class="fas fa-play fa-lg"></i></a><pre class="text"><span class="clr-error">ReferenceError: type is not defined</span></pre></div></div><p>Asserts that 4 is a string, which fails. Can also be called</p><div class="editor"><div class="code" data-lang="js"><div class="gutter"><span class="line-number">1</span></div><div class="text"><pre>type.assert.string(<span class="hljs-number">4</span>)</pre></div></div><div class="output"><a class="subtle-accent clr-text"><i class="fas fa-play fa-lg"></i></a><pre class="text"><span class="clr-error">ReferenceError: type is not defined</span></pre></div></div><p>A custom error message can be specified using the <code>message</code> function. <code>message</code>
takes a function which is called with the value being tested as well as any
arguments supplied to the test and uses the return result as the error message.
<code>message</code> also accepts a string for non-dynamic error messages.</p><div class="editor"><div class="code" data-lang="js"><div class="gutter"><span class="line-number">1</span><span class="line-number">2</span><span class="line-number">3</span></div><div class="text"><pre>type(<span class="hljs-literal">undefined</span>).message(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">value</span>) </span>{
    <span class="hljs-keyword">return</span> <span class="hljs-string">'Oops I got '</span> + value
}).assert.exists</pre></div></div><div class="output"><a class="subtle-accent clr-text"><i class="fas fa-play fa-lg"></i></a><pre class="text"><span class="clr-error">ReferenceError: type is not defined</span></pre></div></div><h3 id="arrayof"><code>arrayof</code></h3><p>Rather than checking the given value this instead checks the elements of the given
value. Automatically fails if the passed value is not an Array. The following
example asserts that <code>x</code> is an array of numbers.</p><div class="editor"><div class="code" data-lang="js"><div class="gutter"><span class="line-number">1</span></div><div class="text"><pre>type(x).arrayof.number</pre></div></div></div><p>Can also be called</p><div class="editor"><div class="code" data-lang="js"><div class="gutter"><span class="line-number">1</span></div><div class="text"><pre>type.arrayof.number(x)</pre></div></div></div><h3 id="of"><code>of</code></h3><p>Rather than checking the passed value, checks the properties of the passed value.
Automatically fails if the passed value is not an object. Note
that this means <code>of</code> works as expected with arrays as well. The following
example asserts that <code>x</code> is an object whose properties are all strings.</p><div class="editor"><div class="code" data-lang="js"><div class="gutter"><span class="line-number">1</span></div><div class="text"><pre>type(x).of.string</pre></div></div></div><p>Can also be called</p><div class="editor"><div class="code" data-lang="js"><div class="gutter"><span class="line-number">1</span></div><div class="text"><pre>type.of.string(x)</pre></div></div></div><h3 id="collapse"><code>collapse</code></h3><p>Collapse is useful for functions that take an optional number of out of order
arguments. It returns the first value passed to type that matches the check.</p><div class="editor"><div class="code" data-lang="js"><div class="gutter"><span class="line-number">1</span></div><div class="text"><pre>type(<span class="hljs-string">'string'</span>, {}, [], <span class="hljs-number">42</span>, <span class="hljs-literal">true</span>, <span class="hljs-built_in">Math</span>.PI).collapse.number</pre></div></div><div class="output"><a class="subtle-accent clr-text"><i class="fas fa-play fa-lg"></i></a><pre class="text"><span class="clr-error">ReferenceError: type is not defined</span></pre></div></div><p><strong>Note</strong> Collapse does not support the alternate calling syntax.</p><h3 id="alltogether">All Together</h3><p>Modifiers can be combined to create a complex check. For example, here we assert
that <code>x</code> is not an array of numbers</p><div class="editor"><div class="code" data-lang="js"><div class="gutter"><span class="line-number">1</span></div><div class="text"><pre>type(x).assert.not.arrayof.number</pre></div></div></div><a class="anchor-point" id="interfaces"></a><a class="anchor" href="#interfaces"><h2>Interfaces</h2><br/></a><p>The checks looked at so far don&#x27;t do much to help define type checkable objects
with a mix of different types. This is where interfaces and type-mark&#x27;s
alternate syntax comes in. An interface looks like the following</p><div class="editor"><div class="code" data-lang="js"><div class="gutter"><span class="line-number">1</span><span class="line-number">2</span><span class="line-number">3</span><span class="line-number">4</span><span class="line-number">5</span><span class="line-number">6</span><span class="line-number">7</span><span class="line-number">8</span><span class="line-number">9</span></div><div class="text"><pre><span class="hljs-keyword">var</span> myInterface = {
    <span class="hljs-attr">name</span> : type.string,
    <span class="hljs-attr">age</span>  : type.integer,
    <span class="hljs-attr">coordinate</span> : {
        <span class="hljs-attr">x</span> : type.number,
        <span class="hljs-attr">y</span> : type.number,
        <span class="hljs-attr">z</span> : type.number
    }
};</pre></div></div></div><p>Interfaces can be passed to the <code>implements</code> check to check if an object meets
a set of structured tests. For instance, based on our interface above we can
test to see if a or b implement the interface.</p><div class="editor"><div class="code" data-lang="js"><div class="gutter"><span class="line-number">1</span><span class="line-number">2</span><span class="line-number">3</span><span class="line-number">4</span><span class="line-number">5</span><span class="line-number">6</span><span class="line-number">7</span><span class="line-number">8</span><span class="line-number">9</span><span class="line-number">10</span><span class="line-number">11</span><span class="line-number">12</span><span class="line-number">13</span><span class="line-number">14</span><span class="line-number">15</span><span class="line-number">16</span><span class="line-number">17</span><span class="line-number">18</span><span class="line-number">19</span></div><div class="text"><pre><span class="hljs-keyword">var</span> a = {
    <span class="hljs-attr">name</span> : <span class="hljs-string">'bear'</span>,
    <span class="hljs-attr">age</span>  : <span class="hljs-number">14.5</span>,
    <span class="hljs-attr">coordinate</span> : {
       <span class="hljs-attr">x</span> : <span class="hljs-number">0.0</span>,
       <span class="hljs-attr">y</span> : <span class="hljs-number">1.1</span>, 
       <span class="hljs-attr">z</span> : <span class="hljs-number">0.1</span>
    }
}
<span class="hljs-keyword">var</span> b = {
    <span class="hljs-attr">name</span> : <span class="hljs-string">'bird'</span>,
    <span class="hljs-attr">age</span>  : <span class="hljs-number">1</span>,
    <span class="hljs-attr">coordinate</span> : {
        <span class="hljs-attr">x</span> : <span class="hljs-number">0.0</span>,
        <span class="hljs-attr">y</span> : <span class="hljs-number">0.0</span>,
        <span class="hljs-attr">z</span> : <span class="hljs-number">14.0</span>,
        <span class="hljs-attr">flag</span> : <span class="hljs-literal">true</span>
    }
}</pre></div></div></div><div class="editor"><div class="code" data-lang="js"><div class="gutter"><span class="line-number">1</span></div><div class="text"><pre>type(a).implements(myInterface)</pre></div></div><div class="output"><a class="subtle-accent clr-text"><i class="fas fa-play fa-lg"></i></a><pre class="text"><span class="clr-error">ReferenceError: type is not defined</span></pre></div></div><div class="editor"><div class="code" data-lang="js"><div class="gutter"><span class="line-number">1</span></div><div class="text"><pre>type(b).implements(myInterface)</pre></div></div><div class="output"><a class="subtle-accent clr-text"><i class="fas fa-play fa-lg"></i></a><pre class="text"><span class="clr-error">ReferenceError: type is not defined</span></pre></div></div><p>A couple of things to note about this example. First notice that <code>a</code> fails the
check even though only one of its properties is incorrect. <code>age</code> is a float rather than an integer. Also <code>b</code> succeeds the check even though it contains additional data <code>coordinates.flag</code>. The <code>implements</code> check does not care if the object it received contains additional properties.</p><p>Interfaces may also be nested within interfaces. You can use <code>type.implements</code>
to achieve this. For example</p><div class="editor"><div class="code" data-lang="js"><div class="gutter"><span class="line-number">1</span><span class="line-number">2</span><span class="line-number">3</span><span class="line-number">4</span><span class="line-number">5</span><span class="line-number">6</span></div><div class="text"><pre><span class="hljs-keyword">var</span> nestedInterface = {
    <span class="hljs-attr">coordinates</span> : type.arrayof.implements({
        <span class="hljs-attr">x</span> : type.number,
        <span class="hljs-attr">y</span> : type.number
    })
};</pre></div></div></div><p>is a valid interface that checks if the supplied object contains a property
coordinates that is an array of <code>{x, y}</code> objects. Interfaces are just a composed set of validation functions. Because
<code>type.implements(interface)</code> returns a function it can also be used for validation.</p><p>This also means that you can provide whatever function to the interface you
would like, for instance</p><div class="editor"><div class="code" data-lang="js"><div class="gutter"><span class="line-number">1</span><span class="line-number">2</span><span class="line-number">3</span><span class="line-number">4</span><span class="line-number">5</span></div><div class="text"><pre><span class="hljs-keyword">var</span> interface = {
    <span class="hljs-attr">three</span> : <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">isThree</span>(<span class="hljs-params">arg</span>) </span>{
        <span class="hljs-keyword">return</span> arg === <span class="hljs-number">3</span> || <span class="hljs-regexp">/^(3|three|iii)$/i</span>.test(arg);
    }
};</pre></div></div></div><p>Is also a valid interface. This makes interfaces extremely flexible especially
when combined with custom tests described in the next section.</p><a class="anchor-point" id="writingyourowntests"></a><a class="anchor" href="#writingyourowntests"><h2>Writing Your Own Tests</h2><br/></a><p>type-mark provides two functions for adding tests: <code>extend</code> and <code>extendfn</code>. The
first allows you to define simple property-based checks, the second allows for
curryable functions.</p><h3 id="extend"><code>extend</code></h3><p>Creates a new property-based check.</p><div class="editor"><div class="code" data-lang="js"><div class="gutter"><span class="line-number">1</span><span class="line-number">2</span><span class="line-number">3</span><span class="line-number">4</span><span class="line-number">5</span></div><div class="text"><pre>type.extend(<span class="hljs-string">'nameOfTest'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">test</span>(<span class="hljs-params">value</span>) </span>{
    <span class="hljs-keyword">return</span> isValueCorrect(value);
}, <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">customMessage</span>(<span class="hljs-params">value</span>) </span>{
    <span class="hljs-keyword">return</span> value + <span class="hljs-string">' was not correct :('</span>;
});</pre></div></div></div><p>The first argument passed to <code>extend</code> is the name of the test, which will be
used for the default error message as well as defining all the access points
ie. <code>type(x).name</code>, <code>type.not.name</code>, etc.</p><p>The second argument passed to <code>extend</code> is the test function itself. It receives
the value currently being tested and is expected to return a boolean result.
It is also executed in the context of the <code>TypeState</code> object it is being
called on (as <code>this</code>). This gives you access to information such as the user specified
message, the currently set modifiers, and more. see the
<a href="">API</a>({{ &quot;/api&quot; | relative_url }}) for all the details.</p><p>The third (optional) argument passed to <code>extend</code> is the error message function.
This will be called if your test was asserted and failed. It is passed the value
being tested and is also executed in the context of the <code>TypeState</code> object.</p><p>As an example we will use our previous <code>isThree</code> function</p><div class="editor"><div class="code" data-lang="js"><div class="gutter"><span class="line-number">1</span><span class="line-number">2</span><span class="line-number">3</span></div><div class="text"><pre><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">isThree</span>(<span class="hljs-params">arg</span>) </span>{
    <span class="hljs-keyword">return</span> arg === <span class="hljs-number">3</span> || <span class="hljs-regexp">/^(3|three|iii)$/i</span>.test(arg);
}</pre></div></div></div><p>To create a new property check we would</p><div class="editor"><div class="code" data-lang="js"><div class="gutter"><span class="line-number">1</span><span class="line-number">2</span><span class="line-number">3</span></div><div class="text"><pre>type.extend(<span class="hljs-string">'isThree'</span>, isThree, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">arg</span>) </span>{
    <span class="hljs-keyword">return</span> arg + <span class="hljs-string">' is not three :('</span>;
});</pre></div></div></div><p>We can now use isThree in all the ways you would expect.</p><div class="editor"><div class="code" data-lang="js"><div class="gutter"><span class="line-number">1</span></div><div class="text"><pre>type(<span class="hljs-number">3</span>).isThree</pre></div></div><div class="output"><a class="subtle-accent clr-text"><i class="fas fa-play fa-lg"></i></a><pre class="text"><span class="clr-error">ReferenceError: type is not defined</span></pre></div></div><div class="editor"><div class="code" data-lang="js"><div class="gutter"><span class="line-number">1</span></div><div class="text"><pre>type(<span class="hljs-string">'three'</span>).not.isThree</pre></div></div><div class="output"><a class="subtle-accent clr-text"><i class="fas fa-play fa-lg"></i></a><pre class="text"><span class="clr-error">ReferenceError: type is not defined</span></pre></div></div><div class="editor"><div class="code" data-lang="js"><div class="gutter"><span class="line-number">1</span></div><div class="text"><pre>type.arrayof.isThree([<span class="hljs-number">3</span>, <span class="hljs-string">'THREE'</span>, <span class="hljs-string">'IiI'</span>])</pre></div></div><div class="output"><a class="subtle-accent clr-text"><i class="fas fa-play fa-lg"></i></a><pre class="text"><span class="clr-error">ReferenceError: type is not defined</span></pre></div></div><a class="anchor-point" id="extendfn"></a><a class="anchor" href="#extendfn"><h2><code>extendfn</code></h2><br/></a><p>Creates a new function-based check. Takes the same arguments as <code>extend</code>
except it will be passed any number of specified arguments prior to the actual
value being tested. For example, lets create a validation function that asserts
that three numbers sum to 100.</p><div class="editor"><div class="code" data-lang="js"><div class="gutter"><span class="line-number">1</span><span class="line-number">2</span><span class="line-number">3</span></div><div class="text"><pre><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">threeSumTo100</span>(<span class="hljs-params">n1, n2, arg</span>) </span>{
    <span class="hljs-keyword">return</span> n1 + n2 + arg === <span class="hljs-number">100</span>;
}</pre></div></div></div><p>To create a new function check we would</p><div class="editor"><div class="code" data-lang="js"><div class="gutter"><span class="line-number">1</span><span class="line-number">2</span><span class="line-number">3</span></div><div class="text"><pre>type.extendfn(<span class="hljs-string">'threeSumTo100'</span>, threeSumTo100, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">n1, n2, arg</span>) </span>{
    <span class="hljs-keyword">return</span> n1 + <span class="hljs-string">' + '</span> + n2 + <span class="hljs-string">' + '</span> + arg + <span class="hljs-string">' does not equal 100'</span>;
});</pre></div></div></div><p>We can now use threeSumTo100 in all the ways you would expect.</p><div class="editor"><div class="code" data-lang="js"><div class="gutter"><span class="line-number">1</span></div><div class="text"><pre>type(<span class="hljs-number">50</span>).threeSumTo100(<span class="hljs-number">25</span>, <span class="hljs-number">25</span>)</pre></div></div><div class="output"><a class="subtle-accent clr-text"><i class="fas fa-play fa-lg"></i></a><pre class="text"><span class="clr-error">ReferenceError: type is not defined</span></pre></div></div><div class="editor"><div class="code" data-lang="js"><div class="gutter"><span class="line-number">1</span></div><div class="text"><pre>type(<span class="hljs-string">'100'</span>).threeSumTo100(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>)</pre></div></div><div class="output"><a class="subtle-accent clr-text"><i class="fas fa-play fa-lg"></i></a><pre class="text"><span class="clr-error">ReferenceError: type is not defined</span></pre></div></div><div class="editor"><div class="code" data-lang="js"><div class="gutter"><span class="line-number">1</span></div><div class="text"><pre>type.arrayof.threeSumTo100(<span class="hljs-number">90</span>, <span class="hljs-number">5</span>, [<span class="hljs-number">5</span>, <span class="hljs-number">5</span>, <span class="hljs-number">5</span>])</pre></div></div><div class="output"><a class="subtle-accent clr-text"><i class="fas fa-play fa-lg"></i></a><pre class="text"><span class="clr-error">ReferenceError: type is not defined</span></pre></div></div><div class="editor"><div class="code" data-lang="js"><div class="gutter"><span class="line-number">1</span></div><div class="text"><pre>type.threeSumTo100(<span class="hljs-number">33</span>)(<span class="hljs-number">33</span>)(<span class="hljs-number">33</span>)</pre></div></div><div class="output"><a class="subtle-accent clr-text"><i class="fas fa-play fa-lg"></i></a><pre class="text"><span class="clr-error">ReferenceError: type is not defined</span></pre></div></div><p>Note that <code>type.threeSumTo100</code> is now a curried function. This means we can
partially apply parameters to create new functions. For example</p><div class="editor"><div class="code" data-lang="js"><div class="gutter"><span class="line-number">1</span></div><div class="text"><pre><span class="hljs-keyword">var</span> twoSumTo50 = type.threeSumTo100(<span class="hljs-number">50</span>)</pre></div></div></div><a class="anchor-point" id="tryitout"></a><a class="anchor" href="#tryitout"><h1>Try it Out</h1><br/></a><p>You can type your own type-mark expressions in the editor below. Give it a go!</p><div class="editor"><div class="code" data-lang="js"><div class="gutter"><span class="line-number">1</span></div><div class="text"><textarea placeholder="Try writing some code! eg. type(4).numbeer" style="height:0"></textarea></div></div><div class="output"><a class="subtle-accent clr-text"><i class="fas fa-play fa-lg"></i></a><pre class="text"></pre></div></div><a class="anchor-point" id="contact"></a><a class="anchor" href="#contact"><h1>Contact</h1><br/></a><p>If you are interested in my other work checkout my <a href="http://www.ejrbuss.net">website</a></p><p>Email <a href="mailto:ejrbuss@gmail.com">ejrbuss@gmail.com</a></p><a class="anchor-point" id="license"></a><a class="anchor" href="#license"><h1>License</h1><br/></a><p>type-mark is made available under the
<a href="https://github.com/ejrbuss/type-mark/blob/master/LICENSE">MIT</a> license.
That basically means anything goes! Just don&#x27;t come crying to me if you
hurt yourself.</p></div></div></div><footer><div class="container grid-md"><div class="columns"><div class="column col-3 hide-sm"><a target="_blank" href="https://www.linkedin.com/in/ejrbuss/" class="p-md subtle"><i class="fab fa-linkedin-in fa-lg"></i></a><a target="_blank" href="https://github.com/ejrbuss" class="p-md subtle"><i class="fab fa-github fa-lg"></i></a><a target="_blank" href="https://twitter.com/ejrbuss" class="p-md subtle"><i class="fab fa-twitter fa-lg"></i></a></div><div class="column col-6 col-sm-12"><p class="text-center subtext">Built with <i class="fas fa-heart clr-accent"></i> using <a target="_blank" href="https://nextjs.org/" class="subtle">Nextjs</a>, <a target="_blank" href="https://picturepan2.github.io/spectre/index.html" class="subtle">Spectre.css</a>, &amp; <a target="_blank" href="/blog/site-history" class="subtle">More</a></p></div><div class="column col-3 hide-sm"><p class="text-right subtext">Â© <a href="https://ejrbuss.net">ejrbuss</a> 2019</p></div></div></div></footer></div><script>__NEXT_DATA__ = {"props":{"pageProps":{}},"page":"/index","query":{},"buildId":"sh57lnqiqm3mqGWT2e_hy","assetPrefix":"/type-mark","nextExport":true};__NEXT_LOADED_PAGES__=[];__NEXT_REGISTER_PAGE=function(r,f){__NEXT_LOADED_PAGES__.push([r, f])}</script><script async="" id="__NEXT_PAGE__/index" src="/type-mark/_next/static/sh57lnqiqm3mqGWT2e_hy/pages/index.js"></script><script async="" id="__NEXT_PAGE__/_app" src="/type-mark/_next/static/sh57lnqiqm3mqGWT2e_hy/pages/_app.js"></script><script async="" id="__NEXT_PAGE__/_error" src="/type-mark/_next/static/sh57lnqiqm3mqGWT2e_hy/pages/_error.js"></script><script src="/type-mark/_next/static/runtime/webpack-f4542de9ce6104e90191.js" async=""></script><script src="/type-mark/_next/static/chunks/commons.da20fc84bfc026ecae8b.js" async=""></script><script src="/type-mark/_next/static/runtime/main-c2e40a57d5e6d5e563b1.js" async=""></script></body></html>